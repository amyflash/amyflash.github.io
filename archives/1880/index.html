<!DOCTYPE html>
<html class="no-js" lang="zh-Hans">

	<head><meta charset="UTF-8">

		
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="profile" href="https://gmpg.org/xfn/11">

		<title>各搜索引擎referer关键字，编码 – 逍遥居</title>
<meta name="robots" content="max-image-preview:large">
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="alternate" type="application/rss+xml" title="逍遥居 » Feed" href="/feed">
<link rel="alternate" type="application/rss+xml" title="逍遥居 » 评论 Feed" href="/comments/feed">
<script>
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/16.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/16.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.8.3"}};
/*! This file is auto-generated */
!function(s,n){var o,i,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),a=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===a[t]})}function u(e,t){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);for(var n=e.getImageData(16,16,1,1),a=0;a<n.data.length;a++)if(0!==n.data[a])return!1;return!0}function f(e,t,n,a){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\udde8\ud83c\uddf6","\ud83c\udde8\u200b\ud83c\uddf6")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!a(e,"\ud83e\udedf")}return!1}function g(e,t,n,a){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):s.createElement("canvas"),o=r.getContext("2d",{willReadFrequently:!0}),i=(o.textBaseline="top",o.font="600 32px Arial",{});return e.forEach(function(e){i[e]=t(o,e,n,a)}),i}function t(e){var t=s.createElement("script");t.src=e,t.defer=!0,s.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",i=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){s.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+g.toString()+"("+[JSON.stringify(i),f.toString(),p.toString(),u.toString()].join(",")+"));",a=new Blob([e],{type:"text/javascript"}),r=new Worker(URL.createObjectURL(a),{name:"wpTestEmojiSupports"});return void(r.onmessage=function(e){c(n=e.data),r.terminate(),t(n)})}catch(e){}c(n=g(i,f,p,u))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
</script>
<style id="wp-emoji-styles-inline-css">

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=6.8.3" media="all">
<style id="classic-theme-styles-inline-css">
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id="global-styles-inline-css">
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--accent: #cd2653;--wp--preset--color--primary: #000000;--wp--preset--color--secondary: #6d6d6d;--wp--preset--color--subtle-background: #dcd7ca;--wp--preset--color--background: #f5efe0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 18px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 26.25px;--wp--preset--font-size--x-large: 42px;--wp--preset--font-size--normal: 21px;--wp--preset--font-size--larger: 32px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel="stylesheet" id="twentytwenty-style-css" href="/wp-content/themes/twentytwenty/style.css?ver=2.9" media="all">
<style id="twentytwenty-style-inline-css">
.color-accent,.color-accent-hover:hover,.color-accent-hover:focus,:root .has-accent-color,.has-drop-cap:not(:focus):first-letter,.wp-block-button.is-style-outline,a { color: #cd2653; }blockquote,.border-color-accent,.border-color-accent-hover:hover,.border-color-accent-hover:focus { border-color: #cd2653; }button,.button,.faux-button,.wp-block-button__link,.wp-block-file .wp-block-file__button,input[type="button"],input[type="reset"],input[type="submit"],.bg-accent,.bg-accent-hover:hover,.bg-accent-hover:focus,:root .has-accent-background-color,.comment-reply-link { background-color: #cd2653; }.fill-children-accent,.fill-children-accent * { fill: #cd2653; }body,.entry-title a,:root .has-primary-color { color: #000000; }:root .has-primary-background-color { background-color: #000000; }cite,figcaption,.wp-caption-text,.post-meta,.entry-content .wp-block-archives li,.entry-content .wp-block-categories li,.entry-content .wp-block-latest-posts li,.wp-block-latest-comments__comment-date,.wp-block-latest-posts__post-date,.wp-block-embed figcaption,.wp-block-image figcaption,.wp-block-pullquote cite,.comment-metadata,.comment-respond .comment-notes,.comment-respond .logged-in-as,.pagination .dots,.entry-content hr:not(.has-background),hr.styled-separator,:root .has-secondary-color { color: #6d6d6d; }:root .has-secondary-background-color { background-color: #6d6d6d; }pre,fieldset,input,textarea,table,table *,hr { border-color: #dcd7ca; }caption,code,code,kbd,samp,.wp-block-table.is-style-stripes tbody tr:nth-child(odd),:root .has-subtle-background-background-color { background-color: #dcd7ca; }.wp-block-table.is-style-stripes { border-bottom-color: #dcd7ca; }.wp-block-latest-posts.is-grid li { border-top-color: #dcd7ca; }:root .has-subtle-background-color { color: #dcd7ca; }body:not(.overlay-header) .primary-menu > li > a,body:not(.overlay-header) .primary-menu > li > .icon,.modal-menu a,.footer-menu a, .footer-widgets a:where(:not(.wp-block-button__link)),#site-footer .wp-block-button.is-style-outline,.wp-block-pullquote:before,.singular:not(.overlay-header) .entry-header a,.archive-header a,.header-footer-group .color-accent,.header-footer-group .color-accent-hover:hover { color: #cd2653; }.social-icons a,#site-footer button:not(.toggle),#site-footer .button,#site-footer .faux-button,#site-footer .wp-block-button__link,#site-footer .wp-block-file__button,#site-footer input[type="button"],#site-footer input[type="reset"],#site-footer input[type="submit"] { background-color: #cd2653; }.header-footer-group,body:not(.overlay-header) #site-header .toggle,.menu-modal .toggle { color: #000000; }body:not(.overlay-header) .primary-menu ul { background-color: #000000; }body:not(.overlay-header) .primary-menu > li > ul:after { border-bottom-color: #000000; }body:not(.overlay-header) .primary-menu ul ul:after { border-left-color: #000000; }.site-description,body:not(.overlay-header) .toggle-inner .toggle-text,.widget .post-date,.widget .rss-date,.widget_archive li,.widget_categories li,.widget cite,.widget_pages li,.widget_meta li,.widget_nav_menu li,.powered-by-wordpress,.footer-credits .privacy-policy,.to-the-top,.singular .entry-header .post-meta,.singular:not(.overlay-header) .entry-header .post-meta a { color: #6d6d6d; }.header-footer-group pre,.header-footer-group fieldset,.header-footer-group input,.header-footer-group textarea,.header-footer-group table,.header-footer-group table *,.footer-nav-widgets-wrapper,#site-footer,.menu-modal nav *,.footer-widgets-outer-wrapper,.footer-top { border-color: #dcd7ca; }.header-footer-group table caption,body:not(.overlay-header) .header-inner .toggle-wrapper::before { background-color: #dcd7ca; }
</style>
<link rel="stylesheet" id="twentytwenty-fonts-css" href="/wp-content/themes/twentytwenty/assets/css/font-inter.css?ver=2.9" media="all">
<link rel="stylesheet" id="twentytwenty-print-style-css" href="/wp-content/themes/twentytwenty/print.css?ver=2.9" media="print">
<script src="/wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script src="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<script src="/wp-content/plugins/html5-audio-player/js/inline-player.js?ver=2.1.12" id="add-inline-player-js"></script>
<script src="/wp-content/themes/twentytwenty/assets/js/index.js?ver=2.9" id="twentytwenty-js-js" defer data-wp-strategy="defer"></script>
<link rel="https://api.w.org/" href="/wp-json/"><link rel="alternate" title="JSON" type="application/json" href="/wp-json/wp/v2/posts/1880"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.8.3">
<link rel="canonical" href="/archives/1880">
<link rel="shortlink" href="/?p=1880">
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Farchives%2F1880">
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Farchives%2F1880&amp;format=xml">
            <style>
                .h5ap_inline_player {
                    display: inline-block;
                    line-height: 1.45;
                }
                .h5ap_inline_player span {
                    display: inline-block;
                    line-height: 1.20;
                    font-size: 130%;
                    width: auto;
                    height: auto;
                    cursor: pointer;
                }
                .h5ap_inline_player span.dashicons-controls-pause {
                    display: none;
                }
                </style>
        	<script>document.documentElement.className = document.documentElement.className.replace( 'no-js', 'js' );</script>
	
	</head>

	<body class="wp-singular post-template-default single single-post postid-1880 single-format-standard wp-embed-responsive wp-theme-twentytwenty singular enable-search-modal missing-post-thumbnail has-single-pagination showing-comments show-avatars footer-top-visible">

		<a class="skip-link screen-reader-text" href="#site-content">跳至内容</a>
		<header id="site-header" class="header-footer-group">

			<div class="header-inner section-inner">

				<div class="header-titles-wrapper">

					
						<button class="toggle search-toggle mobile-search-toggle" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false">
							<span class="toggle-inner">
								<span class="toggle-icon">
									<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewbox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)"></path></svg>								</span>
								<span class="toggle-text">搜索</span>
							</span>
						</button><!-- .search-toggle -->

					
					<div class="header-titles">

						<div class="site-title faux-heading"><a href="/" rel="home">逍遥居</a></div><div class="site-description">琴棋书画诗酒花</div><!-- .site-description -->
					</div><!-- .header-titles -->

					<button class="toggle nav-toggle mobile-nav-toggle" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".close-nav-toggle">
						<span class="toggle-inner">
							<span class="toggle-icon">
								<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="26" height="7" viewbox="0 0 26 7"><path fill-rule="evenodd" d="M332.5,45 C330.567003,45 329,43.4329966 329,41.5 C329,39.5670034 330.567003,38 332.5,38 C334.432997,38 336,39.5670034 336,41.5 C336,43.4329966 334.432997,45 332.5,45 Z M342,45 C340.067003,45 338.5,43.4329966 338.5,41.5 C338.5,39.5670034 340.067003,38 342,38 C343.932997,38 345.5,39.5670034 345.5,41.5 C345.5,43.4329966 343.932997,45 342,45 Z M351.5,45 C349.567003,45 348,43.4329966 348,41.5 C348,39.5670034 349.567003,38 351.5,38 C353.432997,38 355,39.5670034 355,41.5 C355,43.4329966 353.432997,45 351.5,45 Z" transform="translate(-329 -38)"></path></svg>							</span>
							<span class="toggle-text">菜单</span>
						</span>
					</button><!-- .nav-toggle -->

				</div><!-- .header-titles-wrapper -->

				<div class="header-navigation-wrapper">

					
							<nav class="primary-menu-wrapper" aria-label="水平">

								<ul class="primary-menu reset-list-style">

								<li id="menu-item-5428" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-5428"><a href="/">首页</a></li>
<li id="menu-item-6352" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6352"><a href="/td/">待办</a></li>
<li id="menu-item-6353" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6353"><a href="/blog/">知识库</a></li>
<li id="menu-item-6354" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6354"><a href="https://box.1006868.xyz:6443/">私有云盘</a></li>
<li id="menu-item-6356" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6356"><a href="https://bk.1006868.xyz/chat/">私人助理</a></li>
<li id="menu-item-6359" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6359"><a href="/%e5%a4%9a%e5%a4%9a%e8%af%b4%e4%b8%93%e9%a2%98">多多说专题</a></li>
<li id="menu-item-5438" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5438"><a href="/sample-page">留言版</a></li>
<li id="menu-item-6374" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6374"><a href="https://book.1006868.xyz/">私人图书馆</a></li>
<li id="menu-item-6375" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6375"><a href="https://music.1006868.xyz/">私人影音室</a></li>
<li id="menu-item-6376" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6376"><a href="https://chatroom.1006868.xyz/">私人聊天室</a></li>

								</ul>

							</nav><!-- .primary-menu-wrapper -->

						
						<div class="header-toggles hide-no-js">

						
							<div class="toggle-wrapper search-toggle-wrapper">

								<button class="toggle search-toggle desktop-search-toggle" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false">
									<span class="toggle-inner">
										<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewbox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)"></path></svg>										<span class="toggle-text">搜索</span>
									</span>
								</button><!-- .search-toggle -->

							</div>

							
						</div><!-- .header-toggles -->
						
				</div><!-- .header-navigation-wrapper -->

			</div><!-- .header-inner -->

			<div class="search-modal cover-modal header-footer-group" data-modal-target-string=".search-modal" role="dialog" aria-modal="true" aria-label="搜索">

	<div class="search-modal-inner modal-inner">

		<div class="section-inner">

			<form role="search" aria-label="搜索：" method="get" class="search-form" action="/">
	<label for="search-form-1">
		<span class="screen-reader-text">
			搜索：		</span>
		<input type="search" id="search-form-1" class="search-field" placeholder="搜索…" value="" name="s">
	</label>
	<input type="submit" class="search-submit" value="搜索">
</form>

			<button class="toggle search-untoggle close-search-toggle fill-children-current-color" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field">
				<span class="screen-reader-text">
					关闭搜索				</span>
				<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102"></polygon></svg>			</button><!-- .search-toggle -->

		</div><!-- .section-inner -->

	</div><!-- .search-modal-inner -->

</div><!-- .menu-modal -->

		</header><!-- #site-header -->

		
<div class="menu-modal cover-modal header-footer-group" data-modal-target-string=".menu-modal">

	<div class="menu-modal-inner modal-inner">

		<div class="menu-wrapper section-inner">

			<div class="menu-top">

				<button class="toggle close-nav-toggle fill-children-current-color" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" data-set-focus=".menu-modal">
					<span class="toggle-text">关闭菜单</span>
					<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102"></polygon></svg>				</button><!-- .nav-toggle -->

				
					<nav class="mobile-menu" aria-label="移动设备">

						<ul class="modal-menu reset-list-style">

						<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-5428"><div class="ancestor-wrapper"><a href="/">首页</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6352"><div class="ancestor-wrapper"><a href="/td/">待办</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6353"><div class="ancestor-wrapper"><a href="/blog/">知识库</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6354"><div class="ancestor-wrapper"><a href="https://box.1006868.xyz:6443/">私有云盘</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6356"><div class="ancestor-wrapper"><a href="https://bk.1006868.xyz/chat/">私人助理</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6359"><div class="ancestor-wrapper"><a href="/%e5%a4%9a%e5%a4%9a%e8%af%b4%e4%b8%93%e9%a2%98">多多说专题</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5438"><div class="ancestor-wrapper"><a href="/sample-page">留言版</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6374"><div class="ancestor-wrapper"><a href="https://book.1006868.xyz/">私人图书馆</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6375"><div class="ancestor-wrapper"><a href="https://music.1006868.xyz/">私人影音室</a></div><!-- .ancestor-wrapper --></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6376"><div class="ancestor-wrapper"><a href="https://chatroom.1006868.xyz/">私人聊天室</a></div><!-- .ancestor-wrapper --></li>

						</ul>

					</nav>

					
			</div><!-- .menu-top -->

			<div class="menu-bottom">

				
			</div><!-- .menu-bottom -->

		</div><!-- .menu-wrapper -->

	</div><!-- .menu-modal-inner -->

</div><!-- .menu-modal -->

<main id="site-content">

	
<article class="post-1880 post type-post status-publish format-standard hentry category-115" id="post-1880">

	
<header class="entry-header has-text-align-center header-footer-group">

	<div class="entry-header-inner section-inner medium">

		
			<div class="entry-categories">
				<span class="screen-reader-text">
					分类				</span>
				<div class="entry-categories-inner">
					<a href="/archives/category/%e4%ba%92%e8%81%94%e7%bd%91%e8%90%a5%e9%94%80" rel="category tag">互联网营销</a>				</div><!-- .entry-categories-inner -->
			</div><!-- .entry-categories -->

			<h1 class="entry-title">各搜索引擎referer关键字，编码</h1>
		<div class="post-meta-wrapper post-meta-single post-meta-single-top">

			<ul class="post-meta">

									<li class="post-author meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">
								文章作者							</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="/archives/author/amyflash">amyflash</a>						</span>
					</li>
										<li class="post-date meta-wrapper">
						<span class="meta-icon">
							<span class="screen-reader-text">
								发布日期							</span>
							<svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg>						</span>
						<span class="meta-text">
							<a href="/archives/1880">2015年7月7日</a>
						</span>
					</li>
					
			</ul><!-- .post-meta -->

		</div><!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</header><!-- .entry-header -->

	<div class="post-inner thin ">

		<div class="entry-content">

			<p>在做商务E流量分析的时候，需要实现一个功能：如果访客是通过搜索引擎的搜索找到客户网站的，要统计出访客是通过哪个搜索引擎访问到页面，并且统计出是通过 什么关键字搜索到该网站的。在网上google一下，发出对这方面的描述文档还是比较少的，在做这个功能的过程中有些经验给人家分享一下。</p>
<p>实现这样的功能，基本原理是获取到来源地址，然后分析其中的内容，把所需要的搜索引擎名称和关键字取出。<br>
获取来源地址很简单，在servlet 中可以通过HttpServletRequest.getHeader(“Referer”)方法取得,jsp页面中可以通过 request.getHeader(“referer”)取得。取得来源地址后便可以通过分析得到的来源地址分析出我们所需要的内容。通常我们常用的搜 索引擎有以下14个。<br>
http://www.google.com;<br>
http://www.google.cn;<br>
http://www.sogou.com;<br>
http://so.163.com;<br>
http://www.iask.com;<br>
http://www.yahoo.com;<br>
http://www.baidu.com;<br>
http://www.3721.com;<br>
http://www.soso.com;<br>
http://www.zhongsou.com;<br>
http://www.alexa.com;<br>
http://www.search.com;<br>
http://www.lycos.com;<br>
http://www.aol.com;</p>
<p>  要获取我们所需要的内容，我们必须分析 各个引擎的特性，由于各个搜索引擎的格式不一样，获取到的来源地址必然也不一致，下面我们来分析一下各种搜索引擎的地址格式。</p>
<p>   在搜索引擎里输入关键字，点击搜索之后地址栏中的内容就是我们通过HttpServletRequest.getHeader(“Referer”)或 request.getHeader(“referer”)取得的来源地址。</p>
<p>google搜索引擎：<br>
http://www.google.com/search?hl= zh-N&amp;newwindow=1&amp;<br>
q=%E4%BB%8A%E7%A7%91%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80&amp;<br>
btnG= %E6%90%9C%E7%B4%A2&amp;lr=</p>
<p>http://www.google.cn/search?hl= zh-N&amp;newwindow=1&amp;<br>
q=%E6%B0%B8%E5%AE%89%E8%B7%AF%E7%81%AF&amp;<br>
btnG= %E6%90%9C%E7%B4%A2&amp;meta=</p>
<p>从这里我们可以得到我们所需要的搜索引擎名称和关键字。其中，搜索引擎显而易见，是google;而关键字呢？经过我仔细观察、<br>
测试后发现关键字是编码后放 在参数q里，也就是说<br>
%E4%BB%8A%E7%A7%91%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80和<br>
%E6%B0 %B8%E5%AE%89%E8%B7%AF%E7%81%AF<br>
就是输入的关键字。</p>
<p>(有人会问，那btnG这个参数的值是什么来头,他也编过码 啊?是用来干嘛的呢？呵呵，它什么来头都没有，什么也没干，多余的！你试试输入关键字之后点击搜索按钮看看地址栏，然后再试试输入关键字之后回车，再看看 地址栏，看出两种做法在地址栏中的一点点差别之后你就会明白的啦)</p>
<p>baidu搜索引擎：<br>
(1)http://www.baidu.com/s?ie=gb2312&amp;bs=%CB%B3%B5%C2%BC%D2%BE%DF&amp;sr=&amp;z=&amp;cl=3&amp;f=8&amp;<br>
wd=%BD%F1%BF%C6%BF%C6%BC%BC&amp;ct=0<br>
(2)http://www.baidu.com/baidu?tn=nanlingcb&amp;word=%CB%B3%B5%C2%BC%D2%BE%DF</p>
<p>baidu 搜索引擎，这里需要说明一下，当我们在通过在http://www.baidu.com中 输入搜索关键字，获取的来源地址为(1)字符串；当通过其它方式，比如在一些浏览器插件中输入关键字搜索的获取的来源地址为(2)字符串。通过获取来的这来源地，我也可以很容易的知道当前的搜索引擎是baidu；而关键字呢?看看(1),这里有两个经过编码的字符串，到底哪个是关键字呢？wd的值是关键字！信我啦！那bs的值是什么呢？你输入关键字多搜索几次，看看你有什么发现？发现了吧，bs是你上一次搜索的关键字！这个我们不管，它不是我们所要的东 西。分析得知，在baidu搜索引擎里有两个地方放关键字，一个地方是编码后放在在参数wd里，另外一个地方是编码后放在word参数里。明白了吧？：)</p>
<p>sogou搜索引擎<br>
http://www.sogou.com/web?query=%BD%F1%BF%C6%D0%C5%CF%A2%BF%C6%BC%BC<br>
这个就没这么复杂了，我们通过字符串可以知道搜索引擎为sogou，关键字经编码后放在参数query里,这里值为<br>
%BD%F1%BF%C6%D0%C5 %CF%A2%BF%C6%BC%BC,有时候也会附带多一些参数，但附带的这些参数对我们来说是没用的。</p>
<p>163搜索引擎<br>
http://cha.so.163.com/so.php?in=seek&amp;c=26&amp;key=032152284&amp;q=%BD%F1%BF%C6%D0%C5%CF%A2%BF%C6%BC%BC<br>
&amp;x=61&amp;y=19<br>
这个也不复杂，分析得知，搜索引擎名称为163,关键字在参数q里,这里值为%BD%F1%BF%C6%D0%C5%CF%A2%BF%C6%BC%BC</p>
<p>yahoo 搜索引擎<br>
http://search.cn.yahoo.com/search?p=%D3%C0%B0%B2%C2%B7%B5%C6&amp;<br>
source=toolbar_yassist_button&amp;pid=58061_1006&amp;ei=gbk</p>
<p>http://search.cn.yahoo.com/search?lp=%E4%B8%AD%E5%B1%B1%E5%8F%A4%E9%95%87%E7%81%AF%E9%A5%B0&amp;<br>
p=%E4%BB%8A%E7%A7%91%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80&amp;pid=&amp;ei=UTF-8<br>
很容易得到，搜索引擎名称为yahoo,那关键字是哪些呢?关键字是放在参数p里，而参数lp的值跟baidu类似，也是上一次搜索的关键字。</p>
<p>lycos 搜索引擎<br>
http://search.lycos.com/?query=website<br>
这 个我们用得比较少，同样我们通过这个字符串得出搜索引擎为lycos，关键字放在query里.</p>
<p>3721搜索引擎<br>
http://seek.3721.com/index.htm?name=%D6%E9%BA%A3%CF%E3%D6%DE%C0%CD%CE%F1%CA%D0%B3%A1<br>
容 易得到，搜索引擎名称为3721，关键字放在name里</p>
<p>search搜索引擎<br>
http://www.search.com/search?lq=d%25E4%25B8%25AD%25E5%259B%25BDd&amp;<br>
q=%E4%B8%AD%E5%8D%8E%E4%BA%BA%E6%B0%91%E5%85%B1%E5%9B%BD%E5%92%8C<br>
这 个我们用得很少，也容易得到搜索引擎名称为search,关键字放在p里，而lp放的是什么呢？尚未弄清楚，<br>
反正与我们所要的东西无关。</p>
<p>soso 搜索引擎<br>
http://www.soso.com/q?w=%BD%F1%BF%C6%D0%C5%CF%A2%BF%C6%BC%BC12&amp;sc=web&amp;<br>
bs=%BD%F1%BF%C6%D0%C5%CF%A2%BF%C6%BC%BC1&amp;ch=w.soso.pr&amp;uin=&amp;lr=chs&amp;web_options=on<br>
可 以看出搜索引擎名称为soso，关键字放在参数w里，需参数bs的值跟baidu相似，是上一次搜索的关键字<br>
zhongsou搜索引擎<br>
http://p.zhongsou.com/p?w=%BD%F1%BF%C6%D0%C5%CF%A2%BF%C6%BC%BC&amp;l=&amp;jk=&amp;k=&amp;r=&amp;aid=&amp;pt=1&amp;dt=2<br>
可 以看出搜索引擎名称为zhongsou,关键字在参数w里。</p>
<p>alexa搜索引擎<br>
http://www.alexa.com/search?q=%E4%BB%8A%E7%A7%91%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80<br>
得出搜索引擎名称为zhongsou，关键字放在参数q里。<br>
    对各种搜索引擎的url的分析已完成，大家都对这些常用的搜索引擎的url的格式有所了解了，下面我们看看怎样从我们所取得的这些字符串中得到我们所要的信息,也就是怎样从这些字符串中提取我们所需的搜索引擎名称和搜索关键字.这里理所当然使用功能强大的正则表达式了.好,现在我们逐个逐个地分析各个搜索引擎用什么正则表达式提取我们所需要的内容.<br>
首先还是先分析 google搜索引擎:<br>
上面已经提到我们取得的google搜索引擎的地址是这样的:<br>
http://www.google.com/search?hl= zh-N&amp;newwindow=1<br>
&amp;q=%E4%BB%8A%E7%A7%91%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80&amp;<br>
btnG= %E6%90%9C%E7%B4%A2&amp;lr=</p>
<p>http://www.google.cn/search?hl= zh-N&amp;newwindow=1<br>
&amp;q=%E6%B0%B8%E5%AE%89%E8%B7%AF%E7%81%AF&amp;<br>
btnG= %E6%90%9C%E7%B4%A2&amp;meta=</p>
<p>其 实它还有一种形式是这样的:<br>
(3)http://www.google.com/custom?hl=zh-CN&amp;inlang=zh-CN&amp;ie=GB2312&amp;oe=GB2312&amp;newwindow=1&amp;<br>
client=pub3261928361684765&amp;cof=FORID%3A1%3BGL%3A1%3BBGC%3AFFFFFF%3BT%3A%23000000%3BLC%3A<br>
%230000ff%3BVLC%3A%23663399%3BALC%3A%230000ff%3BGALT%3A%23008000%3BGFNT%3A<br>
%230000ff%3BGIMP%3A%230000ff%3BDIV%3A%23336699%3BLBGC%3A336699%3BAH%3Acenter%3B<br>
&amp;q=%C5%B7%C2%FC%D5%D5%C3%F7&amp;lr=<br>
OH,my god,是不是看得头晕了?先不要晕,往下看你就不会觉得晕的啦….</p>
<p>我们仔细观察一下,这三种格式都有一个共通点,大家有没有发现呢?就是 他的格式都是这样的:</p>
<p>http://www.google.[…]/[…]&amp;q= [关键字][…]<br>
[…]表示有一个以上的字符.</p>
<p>就如(2)我们在里面放入一些[]就可以看得更清楚了:<br>
http://www.google.[cn]/[search?hl=zh-CN&amp;newwindow=1]<br>
&amp;q=[%E6%B0%B8%E5%AE%89%E8%B7%AF%E7%81%AF][&amp;btnG=%E6%90%9C%E7%B4%A2&amp;meta=]<br>
看明白了吧?看明白了我们就接下去了.于是我们可以得出google搜索引擎的正则表达式了:</p>
<p>http:\\/\\/www\\.google \\.[a-zA-Z]+\\/.+[\\&amp;\\?]q=[^\\&amp;]*。</p>
<p>   现在解释一下这个正则表达式的意思。<br>
http:\\/ \\/www\\.这一段是匹配http://www.,为什么这里多了这么多\呢?因为字符 ‘/’和字符’.’在正则表达式中有特殊意义,要用’\’对这两个字符转义,’/’通过’\/’转义,相似的.也通过’\.’转义,而字符’\’在 java里也是一个特殊字符,本身也需要转义,所以’\/’写成’\\/’,类似的’\.’写成’\\.’；</p>
<p>接下来google\\.[a-zA-Z]+ \\/.+匹配google.com/search?hl=zh-CN&amp;newwindow=1,这里解释一下[a-zA-Z]+,意思是最少有 一个(包括一个)以上英文字母,[a-zA-Z]表示从a到z,从A到Z的字符,+表示至少一个以上,[\\&amp;\\?]q=[^\\&amp;]*匹配的是&amp;q=%E6%B0%B8%E5%AE%89%E8%B7%AF%E7%81%AF,[\\&amp;\\?],表示字符&amp;或字符?由于&amp;和?都是特殊字符，所以都要用转义符转义,q=[^\\&amp;]*表示q=后面是零个（包括零个）以上的非&amp; 字符,[^\\&amp;]表示不为&amp;的字符,为什么不为&amp;呢，因为&amp;后面的字符也经不再属于参数q的值了，我们要取的是q=之 后，字符&amp;之前的字符串.这个正则表达式的解释就到此了。现在这个正则表达式已经可以从众多的获取过来的来源地址中分辩出哪些是google搜索引擎了，但是有一个问题，假如以后google搜索引擎不是这样，换成http://search.google.com/search?hl=zh-CN&amp;newwindow=1&amp;q=%E6%B0%B8%E5%AE%89%E8%B7%AF%E7%81%AF<br>
&amp;btnG=%E6%90%9C%E7%B4%A2&amp;meta= 呢，</p>
<p>那这个正则表达式就不合适了，怎样能在以后改动之后我们写的正则表达式还适用呢？很简单，我们把它改成这个样子:\\.google\\.[a- zA-Z]+\\/.+[\\&amp;\\?]q=[^\\&amp;]*,意思是我们不必匹配http://www这 一串字符串。这样如果google搜索引擎做了类似http://search.google.com/….. 的修改，我们写的正则表达式也适用了，那假如它把域名也改了就没得说了,:);还有一种情况，在地址栏里输入www.google.com:80/也可以正常访问google,也就是说还有 一种情况就是加端口的访问，这种情况也要考虑到，因此之前我们的正则表达式应改成：\\.google\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]q=[^\\&amp;]*， (:\\d{1,}){0,1}是什么意思呢？他匹配类似”:80″也就是说冒号(:)后跟1个以上的数字字符，而端口是可选的，并且如果出现只会出现一 次，所以用{0,1}.这个正则表达式的用途是用于获取关键字，所以这里我把关键字部分划分为一个组(这在下面会用到),因此，最终的正则表达式为:</p>
<p>\\.google\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]q=([^\\&amp;]*)</p>
<p>对 google搜索引擎已经说得很详细，接下来的我就简略的说说了，原理都差不多的了。</p>
<p>baidu搜索引擎：<br>
分 析得知baidu搜索引擎的正则表达式为：<br>
\\.baidu\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]wd=([^\\&amp;]*) 或<br>
\\.baidu\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]word=([^\\&amp;]*)</p>
<p>sogou 搜索引擎<br>
http://www.sogou.com/web?query=%BD%F1%BF%C6%D0%C5%CF%A2%BF%C6%BC%BC<br>
正 则表达式:<br>
\\.sogou\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]query=([^\\&amp;]*)<br>
yahoo搜索引擎<br>
正 则表达式:<br>
\\.yahoo\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]p=([^\\&amp;]*)</p>
<p>lycos 搜索引擎<br>
http://search.lycos.com/?query=website<br>
正 则表达式:<br>
\\.lycos\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.*[\\&amp;\\?]query=([^\\&amp;]*)</p>
<p>3721 搜索引擎<br>
http://seek.3721.com/index.htm?name=%D6%E9%BA%A3%CF%E3%D6%DE%C0%CD%CE%F1%CA%D0%B3%A1<br>
http://seek.3721.com/index.htm?q=%D6%E9%BA%A3%CF%E3%D6%DE%C0%CD%CE%F1%CA%D0%B3%A1<br>
正 则表达式:<br>
\\.3721\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]p=([^\\&amp;]*) 或<br>
\\.3721\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]name=([^\\&amp;]*)</p>
<p>search 搜索引擎<br>
正则表达式:<br>
\\.search\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]q=([^\\&amp;]*)<br>
soso搜索引擎<br>
正 则表达式:<br>
\\.soso\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]w=([^\\&amp;]*)<br>
zhongsou搜索引擎<br>
http://p.zhongsou.com/p?w=%BD%F1%BF%C6%D0%C5%CF%A2%BF%C6%BC%BC&amp;l=&amp;jk=&amp;k=&amp;r=&amp;aid=&amp;pt=1&amp;dt=2<br>
正 则表达式:<br>
\\.zhongsou\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]w=([^\\&amp;]*)<br>
alexa搜索引擎<br>
http://www.alexa.com/search?q=%E4%BB%8A%E7%A7%91%E4%BF%A1%E6%81%AF%E7%A7%91%E6%8A%80<br>
正 则表达式:<br>
\\.alexa\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]q=([^\\&amp;]*)<br>
iask搜索引擎<br>
正则表达式:<br>
\\.iask\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]k=([^\\&amp;]*) 或<br>
\\.iask\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]_searchkey=([^\\&amp;]*)</p>
<p>好了，正则表达式已经写出来了，事情已经完成一半了。现在我们把话题转一下，等会我们再转回来，现在我们先看看如何获取搜索引擎的名称。同样，也 需要用正则表达式，正则表达式实在太强了：)。<br>
我们可以通过以下的正则表达式匹配到google搜索引擎：<br>
http:\\/\\/.* \\.google\\.com(:\\d{1,}){0,1}\\/或<br>
http:\\/\\/.*\\.google\\.cn(:\\d{1,}){0,1}\\/</p>
<p>类 似的也可以匹配其它搜索引擎，我把他们写在一起:<br>
http:\\/\\/.*\\.(google\\.com(:\\d{1,}){0,1}\\/|google\\.cn(:\\d{1,}){0,1}\\/|<br>
baidu\\.com(:\\d{1,}){0,1}\\/|yahoo\\.com(:\\d{1,}){0,1}\\/|<br>
iask\\.com(:\\d{1,}){0,1}\\/|sogou\\.com(:\\d{1,}){0,1}\\/|<br>
163\\.com(:\\d{1,}){0,1}\\/|lycos\\.com(:\\d{1,}){0,1}\\/|<br>
aol\\.com(:\\d{1,}){0,1}\\/|3721\\.com(:\\d{1,}){0,1}\\/|<br>
search\\.com(:\\d{1,}){0,1}\\/|soso.com(:\\d{1,}){0,1}\\/|<br>
zhongsou\\.com(:\\d{1,}){0,1}\\/|alexa\\.com(:\\d{1,}){0,1}\\/)<br>
通过以下程序可以获取到搜索引擎的名称:<br>
import java.util.regex.*;<br>
public class GetEngine<br>
{<br>
public static void main(String[] arg)<br>
{<br>
   GetEngine engine=new GetEngine();</p>
<p>   String referer=”http://www.baidu.com/s?wd=java%D1%A7%CF%B0%CA%D2″;<br>
   String engineName=engine.getSearchEngine(referer);<br>
   System.out.println(“搜索引擎名称:”+engineName);<br>
}<br>
public String getSearchEngine(String refUrl) {<br>
    if(refUrl.length()&gt;11)<br>
    {<br>
       //p是匹配各种搜索引擎的正则表达式<br>
      Pattern p = Pattern.compile(“http:\\/\\/.*\\.(google\\.com(:\\d{1,}){0,1}\\/|<br>
        google\\.cn(:\\d{1,}){0,1}\\/|baidu\\.com(:\\d{1,}){0,1}\\/|<br>
        yahoo\\.com(:\\d{1,}){0,1}\\/|iask\\.com(:\\d{1,}){0,1}\\/|<br>
        sogou\\.com(:\\d{1,}){0,1}\\/|163\\.com(:\\d{1,}){0,1}\\/|<br>
        lycos\\.com(:\\d{1,}){0,1}\\/|aol\\.com(:\\d{1,}){0,1}\\/|<br>
        3721\\.com(:\\d{1,}){0,1}\\/|search\\.com(:\\d{1,}){0,1}\\/|<br>
        soso.com(:\\d{1,}){0,1}\\/|zhongsou\\.com(:\\d{1,}){0,1}\\/|<br>
        alexa\\.com(:\\d{1,}){0,1}\\/)”);<br>
      Matcher m = p.matcher(refUrl);<br>
      if (m.find())//如果来源地址可以匹配以上的pattern<br>
      {<br>
//因为m.group(0)是域名，m.group(1)才是我们最合适我们所要的<br>
        return insteadCode(m.group(1),”(\\.com(:\\d{1,}){0,1}\\/|\\.cn(:\\d{1,}){0,1}\\/|<br>
\\.org(:\\d{1,}){0,1}\\/)”,””);//把.com,.cn,.org替换为””<br>
      }<br>
    }<br>
    return “未发现搜索引擎”;<br>
}<br>
public String insteadCode(String str,String regEx,String code){<br>
    Pattern p=Pattern.compile(regEx);<br>
    Matcher m=p.matcher(str);<br>
    String s=m.replaceAll(code);<br>
    return s;<br>
}<br>
}</p>
<p>通过以上的代码即可得出搜索引擎名称了，似乎任务完成一大半了。只是接着下来的要做的事情比之前所做的要麻烦点点,麻烦就麻烦在编码上。<br>
现在我样回过头看我们上面写的一大堆各种搜索引擎的正则表达式。<br>
由于这里要大量的字符串操作，这里使用StringBuffer来做字符串的连接。<br>
StringBuffer sb=new StringBuffer();<br>
sb.append(“\\.google\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]q=([^\\&amp;]*)”)<br>
.append(“|\\.iask\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]k=([^\\&amp;]*)”)<br>
.append(“|\\.iask\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]_searchkey=([^\\&amp;]*)”)<br>
.append(“|\\.sogou\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]query=([^\\&amp;]*)”)<br>
.append(“|\\.163\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]q=([^\\&amp;]*)”)<br>
.append(“|\\.yahoo\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]p=([^\\&amp;]*)”)<br>
.append(“|\\.baidu\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]wd=([^\\&amp;]*)”)<br>
.append(“|\\.baidu\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]word=([^\\&amp;]*)”)<br>
.append(“|\\.lycos\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.*[\\&amp;\\?]query=([^\\&amp;]*)”)<br>
.append(“|\\.aol\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]encquery=([^\\&amp;]*)”)<br>
.append(“|\\.3721\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]p=([^\\&amp;]*)”)<br>
.append(“|\\.3721\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]name=([^\\&amp;]*)”)<br>
.append(“|\\.search\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]q=([^\\&amp;]*)”)<br>
.append(“|\\.soso\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]w=([^\\&amp;]*)”)<br>
.append(“|\\.zhongsou\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]w=([^\\&amp;]*)”)<br>
.append(“|\\.alexa\\.[a-zA-Z]+(:\\d{1,}){0,1}\\/.+[\\&amp;\\?]q=([^\\&amp;]*)”);<br>
这个正则表达式是把所有搜索引擎用或”|”连接起来，因为只要匹配其中一个搜索引擎的正则表达式就可以。<br>
前面已经说到，关键字是经过编码 的，我们直接取出的关键字会像%BD%F1%BF%C6%D0%C5%CF%A2%BF%C6%BC%BC12,<br>
这样的关键字我们无法读懂，因些需要对这 些关键进行反编码，这要用到java.net.URLDecoder.decode(String s,String enc),这个方法有两个参数，一个参数是要进行反编码的字符串，另一个是指定的字符集。第一个参数很简单，只要我们把取得的关键放到这个参数里，至于第 二个参数怎样呢？这里我只讨论中文的情况，这些搜索引擎有两种字符集编码方式，一种是UTF-8，另外一种是GBK。<br>
只有GBK一种编码方式的搜 索引擎：<br>
3721，iask，sogou，163，baidu，soso，zhongsou<br>
只有UTF-8一种编码方式的搜索引擎:<br>
lycos,aol,search,alexa<br>
有 两种编码方式的：<br>
google,yahoo<br>
只有一种编码方式的问题容易解决，有两种编码方式的怎办呢？办法总比问题多，其实采用哪一个编码方工，它是有”暗示“的，对于google，大多数情况下它是采用UTF-8的编码方式，我们在浏览器的地址栏上输入www.google.com搜索的都是以这种方式来编码的，但有种情况如：<br>
http://www.google.com/custom?hl=zh-CN&amp;inlang=zh-CN&amp;ie=GB2312&amp;oe=GB2312&amp;newwindow=1&amp;client=pub-3261928361684765&amp;<br>
cof=FORID%3A1%3BGL%3A1%3BBGC%3AFFFFFF%3BT%3A%23000000%3BLC%3A%230000ff<br>
%3BVLC%3A%23663399%3BALC%3A%230000ff%3BGALT%3A%23008000%3BGFNT%3A%230000ff%3BGIMP%3A<br>
%230000ff%3BDIV%3A%23336699%3BLBGC%3A336699%3BAH%3Acenter%3B&amp;q=%C5%B7%C2%FC%D5%D5%C3%F7&amp;lr=</p>
<p>这种情况下就不一定是UTF-8编码了，这种情况下以ie这个参数指定，这里ie=gb2312,所以编码方式为gb2312，而gb2312是gbk的字 集，所以这里我们用gbk而不用gb2312;对于yahoo情况类似，只不过yahoo在大多数情况下使用GBK编码，如：<br>
http://search.cn.yahoo.com/search?p=%C5%B7%C2%FC%BF%C6%BC%BC%CA%B5%D2%B5<br>
&amp;source=toolbar_yassist_button&amp;pid=54554_1006&amp;f=A279_1<br>
就是GBK编码,但这种情况:<br>
http://search.cn.yahoo.com/search?ei=gbk&amp;fr=fp-tab-web-ycn&amp;source=errhint_up_web<br>
&amp;p=%BD%F1%BF%C6&amp;meta=vl%3Dlang_zh-CN%26vl%3Dlang_zh-TW&amp;pid=ysearch<br>
就 用ei参数里指定的纺码方式了,这里有可能指定的是gbk，也有可能指定的是UTF-8。<br>
根据以上的解释，于是有以下的程序来获得各种搜索引擎的关键字:</p>
<p>//Java代码<br>
[code]<br>
package com.mytophome.framework;  </p>
<p>import java.util.regex.*;<br>
import java.net.URLDecoder;<br>
import java.io.*;  </p>
<p>public class GetKeyword {<br>
    public static void main(String[] arg) {<br>
        String referer = &quot;http://www.baidu.com/s?wd=java%D1%A7%CF%B0%CA%D2&quot;;<br>
        if (arg.length != 0) {<br>
            referer = arg[0];<br>
        }<br>
        GetKeyword getKeyword = new GetKeyword();<br>
        String searchEngine = getKeyword.getSearchEngine(referer);<br>
        System.out.println(&quot;searchEngine:&quot; + searchEngine);<br>
        System.out.println(&quot;keyword:&quot; + getKeyword.getKeyword(referer));<br>
    }  </p>
<p>    public String getKeyword(String refererUrl) {<br>
        StringBuffer sb = new StringBuffer();<br>
        if (refererUrl != null) {<br>
            sb.append(&quot;(google\\.[a-zA-Z]+/.+[\\&amp;|\\?]q=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|iask\\.[a-zA-Z]+/.+[\\&amp;|\\?]k=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|iask\\.[a-zA-Z]+/.+[\\&amp;|\\?]_searchkey=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|sogou\\.[a-zA-Z]+/.+[\\&amp;|\\?]query=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|163\\.[a-zA-Z]+/.+[\\&amp;|\\?]q=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|yahoo\\.[a-zA-Z]+/.+[\\&amp;|\\?]p=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|baidu\\.[a-zA-Z]+/.+[\\&amp;|\\?]wd=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|baidu\\.[a-zA-Z]+/.+[\\&amp;|\\?]word=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|lycos\\.[a-zA-Z]+/.*[\\&amp;|\\?]query=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|aol\\.[a-zA-Z]+/.+[\\&amp;|\\?]encquery=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|3721\\.[a-zA-Z]+/.+[\\&amp;|\\?]p=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|3721\\.[a-zA-Z]+/.+[\\&amp;|\\?]name=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|search\\.[a-zA-Z]+/.+[\\&amp;|\\?]q=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|soso\\.[a-zA-Z]+/.+[\\&amp;|\\?]w=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|zhongsou\\.[a-zA-Z]+/.+[\\&amp;|\\?]w=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;|alexa\\.[a-zA-Z]+/.+[\\&amp;|\\?]q=([^\\&amp;]*)&quot;)<br>
                    .append(&quot;)&quot;);<br>
            Pattern p = Pattern.compile(sb.toString());<br>
            Matcher m = p.matcher(refererUrl);<br>
            return decoderKeyword(m, refererUrl);<br>
        }<br>
        return null;<br>
    }  </p>
<p>    /**<br>
     * 添加了百度搜索引擎的编码问题<br>
     * @param m<br>
     * @param refererUrl<br>
     * @return<br>
     */<br>
    public String decoderKeyword(Matcher m, String refererUrl) {<br>
        String keyword = null;<br>
        String encode = &quot;UTF-8&quot;;<br>
        String searchEngine = getSearchEngine(refererUrl);<br>
        if (searchEngine != null) {<br>
            if ((checkCode(&quot;3721|iask|sogou|163|soso|zhongsou&quot;, searchEngine)<br>
                    || (checkCode(&quot;yahoo&quot;, searchEngine) &amp;&amp; !checkCode(&quot;ei=utf-8&quot;,refererUrl.toLowerCase())))<br>
                    || (checkCode(&quot;baidu&quot;, searchEngine) &amp;&amp; !checkCode(&quot;ie=utf-8&quot;, refererUrl.toLowerCase()))) {<br>
                encode = &quot;GBK&quot;;<br>
            }  </p>
<p>            if (m.find()) {<br>
                for (int i = 2; i &lt;= m.groupCount(); i++) {<br>
                    if (m.group(i) != null)// 在这里对关键字分组就用到了<br>
                    {<br>
                        try {<br>
                            keyword = URLDecoder.decode(m.group(i), encode);<br>
                        } catch (UnsupportedEncodingException e) {<br>
                            System.out.println(e.getMessage());<br>
                        }<br>
                        break;<br>
                    }<br>
                }<br>
            }<br>
        }<br>
        return keyword;<br>
    }  </p>
<p>    public String getSearchEngine(String refUrl) {<br>
        if (refUrl.length() &gt; 11) {<br>
            // p是匹配各种搜索引擎的正则表达式<br>
            // p是匹配各种搜索引擎的正则表达式<br>
            Pattern p = Pattern<br>
                    .compile(&quot;http:\\/\\/.*\\.(google\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|google\\.cn(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|baidu\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|yahoo\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|iask\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|sogou\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|163\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|lycos\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|aol\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|3721\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|search\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|soso.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|zhongsou\\.com(:\\d{1,}){0,1}\\/&quot;<br>
                            + &quot;|alexa\\.com(:\\d{1,}){0,1}\\/)&quot;);<br>
            Matcher m = p.matcher(refUrl);<br>
            if (m.find()) {<br>
                return insteadCode(m.group(1),&quot;(\\.com(:\\d{1,}){0,1}\\/|\\.cn(:\\d{1,}){0,1}\\/|\\.org(:\\d{1,}){0,1}\\/)&quot;,&quot;&quot;);<br>
            }<br>
        }<br>
        return &quot;未发现有搜索引擎&quot;;<br>
    }  </p>
<p>    public String insteadCode(String str, String regEx, String code) {<br>
        Pattern p = Pattern.compile(regEx);<br>
        Matcher m = p.matcher(str);<br>
        String s = m.replaceAll(code);<br>
        return s;<br>
    }  </p>
<p>    public boolean checkCode(String regEx, String str) {<br>
        Pattern p = Pattern.compile(regEx);<br>
        Matcher m = p.matcher(str);<br>
        return m.find();<br>
    }  }[/code]</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<div class="section-inner">
		
	</div><!-- .section-inner -->

	
	<nav class="pagination-single section-inner" aria-label="文章">

		<hr class="styled-separator is-style-wide" aria-hidden="true">

		<div class="pagination-single-inner">

			
				<a class="previous-post" href="/archives/1878">
					<span class="arrow" aria-hidden="true">←</span>
					<span class="title"><span class="title-inner">分析网站原始访问日志</span></span>
				</a>

				
				<a class="next-post" href="/archives/1882">
					<span class="arrow" aria-hidden="true">→</span>
						<span class="title"><span class="title-inner">referer</span></span>
				</a>
				
		</div><!-- .pagination-single-inner -->

		<hr class="styled-separator is-style-wide" aria-hidden="true">

	</nav><!-- .pagination-single -->

	
</article><!-- .post -->

</main><!-- #site-content -->


	<div class="footer-nav-widgets-wrapper header-footer-group">

		<div class="footer-inner section-inner">

			
			
				<aside class="footer-widgets-outer-wrapper">

					<div class="footer-widgets-wrapper">

						
							<div class="footer-widgets column-one grid-item">
								<div class="widget_text widget widget_custom_html"><div class="widget_text widget-content"><h2 class="widget-title subheading heading-size-3">常用链接</h2><div class="textwidget custom-html-widget"><a href="https://www.perplexity.ai/">ai搜索</a><br>
<a href="https://huggingface.co/models">模型下载</a>
<a href="https://kb.amyflash.com/">接口工具</a>
</div></div></div><div class="widget widget_tag_cloud"><div class="widget-content"><h2 class="widget-title subheading heading-size-3">标签</h2><nav aria-label="标签"><div class="tagcloud"><a href="/archives/tag/air" class="tag-cloud-link tag-link-45 tag-link-position-1" style="font-size: 8pt;" aria-label="air (2 项)">air</a>
<a href="/archives/tag/angularjs" class="tag-cloud-link tag-link-212 tag-link-position-2" style="font-size: 15.736842105263pt;" aria-label="angularjs (12 项)">angularjs</a>
<a href="/archives/tag/apache" class="tag-cloud-link tag-link-123 tag-link-position-3" style="font-size: 8pt;" aria-label="apache (2 项)">apache</a>
<a href="/archives/tag/as3" class="tag-cloud-link tag-link-6 tag-link-position-4" style="font-size: 16.228070175439pt;" aria-label="as3 (13 项)">as3</a>
<a href="/archives/tag/chrome" class="tag-cloud-link tag-link-90 tag-link-position-5" style="font-size: 8pt;" aria-label="chrome (2 项)">chrome</a>
<a href="/archives/tag/createjs" class="tag-cloud-link tag-link-31 tag-link-position-6" style="font-size: 8pt;" aria-label="createjs (2 项)">createjs</a>
<a href="/archives/tag/css3" class="tag-cloud-link tag-link-228 tag-link-position-7" style="font-size: 9.4736842105263pt;" aria-label="css3 (3 项)">css3</a>
<a href="/archives/tag/date" class="tag-cloud-link tag-link-7 tag-link-position-8" style="font-size: 8pt;" aria-label="date (2 项)">date</a>
<a href="/archives/tag/django" class="tag-cloud-link tag-link-197 tag-link-position-9" style="font-size: 9.4736842105263pt;" aria-label="django (3 项)">django</a>
<a href="/archives/tag/docker" class="tag-cloud-link tag-link-239 tag-link-position-10" style="font-size: 12.543859649123pt;" aria-label="docker (6 项)">docker</a>
<a href="/archives/tag/eos" class="tag-cloud-link tag-link-214 tag-link-position-11" style="font-size: 11.684210526316pt;" aria-label="eos (5 项)">eos</a>
<a href="/archives/tag/eth" class="tag-cloud-link tag-link-198 tag-link-position-12" style="font-size: 9.4736842105263pt;" aria-label="ETH (3 项)">ETH</a>
<a href="/archives/tag/flash" class="tag-cloud-link tag-link-12 tag-link-position-13" style="font-size: 12.543859649123pt;" aria-label="flash (6 项)">flash</a>
<a href="/archives/tag/flashdevelop" class="tag-cloud-link tag-link-28 tag-link-position-14" style="font-size: 8pt;" aria-label="flashdevelop (2 项)">flashdevelop</a>
<a href="/archives/tag/flv" class="tag-cloud-link tag-link-63 tag-link-position-15" style="font-size: 8pt;" aria-label="flv (2 项)">flv</a>
<a href="/archives/tag/git" class="tag-cloud-link tag-link-152 tag-link-position-16" style="font-size: 12.543859649123pt;" aria-label="git (6 项)">git</a>
<a href="/archives/tag/google" class="tag-cloud-link tag-link-116 tag-link-position-17" style="font-size: 9.4736842105263pt;" aria-label="google (3 项)">google</a>
<a href="/archives/tag/haxe" class="tag-cloud-link tag-link-118 tag-link-position-18" style="font-size: 8pt;" aria-label="haxe (2 项)">haxe</a>
<a href="/archives/tag/html5" class="tag-cloud-link tag-link-5 tag-link-position-19" style="font-size: 10.701754385965pt;" aria-label="html5 (4 项)">html5</a>
<a href="/archives/tag/iphone" class="tag-cloud-link tag-link-51 tag-link-position-20" style="font-size: 8pt;" aria-label="iphone (2 项)">iphone</a>
<a href="/archives/tag/jangaroo" class="tag-cloud-link tag-link-67 tag-link-position-21" style="font-size: 10.701754385965pt;" aria-label="Jangaroo (4 项)">Jangaroo</a>
<a href="/archives/tag/java" class="tag-cloud-link tag-link-3 tag-link-position-22" style="font-size: 9.4736842105263pt;" aria-label="java (3 项)">java</a>
<a href="/archives/tag/javascript" class="tag-cloud-link tag-link-68 tag-link-position-23" style="font-size: 8pt;" aria-label="javascript (2 项)">javascript</a>
<a href="/archives/tag/js" class="tag-cloud-link tag-link-36 tag-link-position-24" style="font-size: 11.684210526316pt;" aria-label="js (5 项)">js</a>
<a href="/archives/tag/jsp" class="tag-cloud-link tag-link-107 tag-link-position-25" style="font-size: 8pt;" aria-label="jsp (2 项)">jsp</a>
<a href="/archives/tag/lampp" class="tag-cloud-link tag-link-93 tag-link-position-26" style="font-size: 10.701754385965pt;" aria-label="lampp (4 项)">lampp</a>
<a href="/archives/tag/laravel" class="tag-cloud-link tag-link-194 tag-link-position-27" style="font-size: 9.4736842105263pt;" aria-label="laravel (3 项)">laravel</a>
<a href="/archives/tag/linux" class="tag-cloud-link tag-link-32 tag-link-position-28" style="font-size: 15.368421052632pt;" aria-label="linux (11 项)">linux</a>
<a href="/archives/tag/mac" class="tag-cloud-link tag-link-8 tag-link-position-29" style="font-size: 13.771929824561pt;" aria-label="mac (8 项)">mac</a>
<a href="/archives/tag/mysql" class="tag-cloud-link tag-link-34 tag-link-position-30" style="font-size: 18.561403508772pt;" aria-label="mysql (21 项)">mysql</a>
<a href="/archives/tag/php" class="tag-cloud-link tag-link-44 tag-link-position-31" style="font-size: 16.59649122807pt;" aria-label="php (14 项)">php</a>
<a href="/archives/tag/python" class="tag-cloud-link tag-link-202 tag-link-position-32" style="font-size: 16.228070175439pt;" aria-label="python (13 项)">python</a>
<a href="/archives/tag/securecrt" class="tag-cloud-link tag-link-99 tag-link-position-33" style="font-size: 9.4736842105263pt;" aria-label="securecrt (3 项)">securecrt</a>
<a href="/archives/tag/shell" class="tag-cloud-link tag-link-33 tag-link-position-34" style="font-size: 13.157894736842pt;" aria-label="shell (7 项)">shell</a>
<a href="/archives/tag/swf" class="tag-cloud-link tag-link-13 tag-link-position-35" style="font-size: 9.4736842105263pt;" aria-label="swf (3 项)">swf</a>
<a href="/archives/tag/ubuntu" class="tag-cloud-link tag-link-136 tag-link-position-36" style="font-size: 10.701754385965pt;" aria-label="ubuntu (4 项)">ubuntu</a>
<a href="/archives/tag/vps" class="tag-cloud-link tag-link-91 tag-link-position-37" style="font-size: 8pt;" aria-label="vps (2 项)">vps</a>
<a href="/archives/tag/vue" class="tag-cloud-link tag-link-213 tag-link-position-38" style="font-size: 15.368421052632pt;" aria-label="vue (11 项)">vue</a>
<a href="/archives/tag/wordpress" class="tag-cloud-link tag-link-10 tag-link-position-39" style="font-size: 8pt;" aria-label="wordpress (2 项)">wordpress</a>
<a href="/archives/tag/xampp" class="tag-cloud-link tag-link-94 tag-link-position-40" style="font-size: 16.228070175439pt;" aria-label="xampp (13 项)">xampp</a>
<a href="/archives/tag/yii2" class="tag-cloud-link tag-link-128 tag-link-position-41" style="font-size: 22pt;" aria-label="yii2 (41 项)">yii2</a>
<a href="/archives/tag/%e4%ba%a7%e5%93%81" class="tag-cloud-link tag-link-64 tag-link-position-42" style="font-size: 8pt;" aria-label="产品 (2 项)">产品</a>
<a href="/archives/tag/%e6%bb%9a%e5%8a%a8%e6%9d%a1" class="tag-cloud-link tag-link-38 tag-link-position-43" style="font-size: 9.4736842105263pt;" aria-label="滚动条 (3 项)">滚动条</a>
<a href="/archives/tag/%e7%ab%af%e5%8f%a3" class="tag-cloud-link tag-link-117 tag-link-position-44" style="font-size: 8pt;" aria-label="端口 (2 项)">端口</a>
<a href="/archives/tag/%e7%b2%92%e5%ad%90" class="tag-cloud-link tag-link-21 tag-link-position-45" style="font-size: 8pt;" aria-label="粒子 (2 项)">粒子</a></div>
</nav></div></div><div class="widget widget_pages"><div class="widget-content"><h2 class="widget-title subheading heading-size-3">页面</h2><nav aria-label="页面">
			<ul>
				<li class="page_item page-item-2696"><a href="/angularjs2%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97">angularjs4+学习系列</a></li>
<li class="page_item page-item-6460 current_page_parent"><a href="/arweare%e9%93%be%e4%b8%8a%e7%9a%84%e6%b0%b8%e4%b9%85%e7%bd%91%e7%ab%99">Arweare链上的永久网站</a></li>
<li class="page_item page-item-5680"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-10%e6%9c%88">The one year love-心灵之约-多多说系列专题-10月</a></li>
<li class="page_item page-item-5782"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-11%e6%9c%88">The one year love-心灵之约-多多说系列专题-11月</a></li>
<li class="page_item page-item-5878"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-12%e6%9c%88">The one year love-心灵之约-多多说系列专题-12月</a></li>
<li class="page_item page-item-6010"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-202401%e6%9c%88">The one year love-心灵之约-多多说系列专题-202401月</a></li>
<li class="page_item page-item-6140"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-202402%e6%9c%88">The one year love-心灵之约-多多说系列专题-202402月</a></li>
<li class="page_item page-item-6254"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-202403%e6%9c%88">The one year love-心灵之约-多多说系列专题-202403月</a></li>
<li class="page_item page-item-4797"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6">The one year love-心灵之约-多多说系列专题-4月</a></li>
<li class="page_item page-item-5116"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-5%e6%9c%88">The one year love-心灵之约-多多说系列专题-5月</a></li>
<li class="page_item page-item-5174"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-6%e6%9c%88">The one year love-心灵之约-多多说系列专题-6月</a></li>
<li class="page_item page-item-5298"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-7%e6%9c%88">The one year love-心灵之约-多多说系列专题-7月</a></li>
<li class="page_item page-item-5412"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-8%e6%9c%88">The one year love-心灵之约-多多说系列专题-8月</a></li>
<li class="page_item page-item-5592"><a href="/the-one-year-love-%e5%bf%83%e7%81%b5%e4%b9%8b%e7%ba%a6-%e5%a4%9a%e5%a4%9a%e8%af%b4%e7%b3%bb%e5%88%97%e4%b8%93%e9%a2%98-9%e6%9c%88">The one year love-心灵之约-多多说系列专题-9月</a></li>
<li class="page_item page-item-2870"><a href="/vue%e7%b3%bb%e5%88%97%e6%95%99%e7%a8%8b">vue学习系列</a></li>
<li class="page_item page-item-2770"><a href="/yii2%e5%ad%a6%e4%b9%a0%e7%b3%bb%e5%88%97">yii2学习系列</a></li>
<li class="page_item page-item-6345"><a href="/">养生音乐</a></li>
<li class="page_item page-item-6400"><a href="/shop">商店</a></li>
<li class="page_item page-item-6357"><a href="/%e5%a4%9a%e5%a4%9a%e8%af%b4%e4%b8%93%e9%a2%98">多多说专题</a></li>
<li class="page_item page-item-6403"><a href="/my-account">我的帐户</a></li>
<li class="page_item page-item-3720"><a href="/%e6%88%91%e7%9a%84%e8%87%aa%e5%aa%92%e4%bd%93">我的自媒体</a></li>
<li class="page_item page-item-2"><a href="/sample-page">留言版</a></li>
<li class="page_item page-item-6402"><a href="/checkout">结账</a></li>
<li class="page_item page-item-6401"><a href="/cart">购物车</a></li>
			</ul>

			</nav></div></div>							</div>

						
						
					</div><!-- .footer-widgets-wrapper -->

				</aside><!-- .footer-widgets-outer-wrapper -->

			
		</div><!-- .footer-inner -->

	</div><!-- .footer-nav-widgets-wrapper -->

	
			<footer id="site-footer" class="header-footer-group">

				<div class="section-inner">

					<div class="footer-credits">

						<p class="footer-copyright">©
							2025							<a href="/">逍遥居</a>
						</p><!-- .footer-copyright -->

						
						<p class="powered-by-wordpress">
							<a href="https://cn.wordpress.org/">
								由WordPress强力驱动							</a>
						</p><!-- .powered-by-wordpress -->

					</div><!-- .footer-credits -->

					<a class="to-the-top" href="#site-header">
						<span class="to-the-top-long">
							返回顶部<span class="arrow" aria-hidden="true">↑</span>						</span><!-- .to-the-top-long -->
						<span class="to-the-top-short">
							向上 <span class="arrow" aria-hidden="true">↑</span>						</span><!-- .to-the-top-short -->
					</a><!-- .to-the-top -->

				</div><!-- .section-inner -->

			</footer><!-- #site-footer -->

		<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/*"},{"not":{"href_matches":["\/wp-*.php","\/wp-admin\/*","\/wp-content\/uploads\/*","\/wp-content\/*","\/wp-content\/plugins\/*","\/wp-content\/themes\/twentytwenty\/*","\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>

	</body>
</html>
